<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إنشاء حساب جديد - نظام إدارة العُهد</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f0f4f8;
        }
        /* Custom colors for the theme */
        .bg-primary-50 { background-color: #eff6ff; }
        .bg-primary-100 { background-color: #dbeafe; }
        .bg-primary-600 { background-color: #2563eb; }
        .bg-primary-700 { background-color: #1d4ed8; }
        .text-primary-700 { color: #1e40af; }
        .focus\:ring-primary-500:focus { --tw-ring-color: #3b82f6; }
        .focus\:border-primary-500:focus { border-color: #3b82f6; }
        /* Validation styles */
        .error-message {
            color: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }
        .border-error {
            border-color: #ef4444 !important;
        }
        .focus\:ring-error:focus {
            --tw-ring-color: #ef4444 !important;
        }
    </style>
</head>
<body class="bg-gradient-to-b from-blue-50 to-blue-100 min-h-screen">

    <div class="container mx-auto px-4 py-6 flex items-center justify-center min-h-screen">
        <div class="max-w-2xl w-full bg-white rounded-lg shadow-lg p-8">
            <div class="text-center mb-6">
                <h2 class="text-3xl font-bold text-primary-700">إنشاء حساب جديد</h2>
                <p class="text-gray-600">قم بإدخال بياناتك لإنشاء حساب جديد</p>
            </div>
            
            <form id="registerForm" novalidate>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label for="full-name" class="block text-sm font-medium text-gray-700 mb-1">الاسم كامل <span class="text-red-500">*</span></label>
                        <input type="text" id="full-name" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="full-name-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="reg-employee-id" class="block text-sm font-medium text-gray-700 mb-1">رقم العامل <span class="text-red-500">*</span></label>
                        <input type="text" id="reg-employee-id" required
                               oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="reg-employee-id-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">البريد الإلكتروني <span class="text-red-500">*</span></label>
                        <input type="email" id="email" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="email-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="job-title" class="block text-sm font-medium text-gray-700 mb-1">الوظيفة الحالية <span class="text-red-500">*</span></label>
                        <input type="text" id="job-title" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="job-title-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="department" class="block text-sm font-medium text-gray-700 mb-1">القسم <span class="text-red-500">*</span></label>
                        <input type="text" id="department" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="department-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="administration" class="block text-sm font-medium text-gray-700 mb-1">الإدارة <span class="text-red-500">*</span></label>
                        <input type="text" id="administration" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="administration-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="central" class="block text-sm font-medium text-gray-700 mb-1">السنترال</label>
                        <input type="text" id="central"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                    </div>
                    <div>
                        <label for="mobile" class="block text-sm font-medium text-gray-700 mb-1">رقم الموبايل <span class="text-red-500">*</span></label>
                        <input type="tel" id="mobile" required
                               pattern="[0-9]{10,15}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="mobile-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="work-number" class="block text-sm font-medium text-gray-700 mb-1">رقم العمل</label>
                        <input type="text" id="work-number"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                    </div>
                    <div>
                        <label for="reg-password" class="block text-sm font-medium text-gray-700 mb-1">كلمة المرور <span class="text-red-500">*</span></label>
                        <input type="password" id="reg-password" required minlength="6"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="reg-password-error" class="error-message hidden"></div>
                    </div>
                    <div>
                        <label for="confirm-password" class="block text-sm font-medium text-gray-700 mb-1">تأكيد كلمة المرور <span class="text-red-500">*</span></label>
                        <input type="password" id="confirm-password" required
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500">
                        <div id="confirm-password-error" class="error-message hidden"></div>
                    </div>
                </div>
                <div class="flex justify-between">
                    <a href="index.html" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-md transition duration-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
                        العودة للخلف
                    </a>
                    <button type="submit" id="register-btn" class="bg-primary-600 hover:bg-primary-700 text-white font-bold py-2 px-4 rounded-md transition duration-300 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2">
                        إنشاء حساب
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('registerForm');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (validateForm()) {
                    // Form is valid, proceed with registration
                    alert('تم إنشاء الحساب بنجاح!');
                    // Here you would typically send data to server
                    // window.location.href = 'index.html'; // Redirect after success
                }
            });
            
            // Live validation on input
            document.querySelectorAll('input[required]').forEach(input => {
                input.addEventListener('input', function() {
                    validateField(this);
                });
            });
        });
        
        function validateForm() {
            let isValid = true;
            const requiredFields = document.querySelectorAll('input[required]');
            
            requiredFields.forEach(field => {
                if (!validateField(field)) {
                    isValid = false;
                }
            });
            
            // Special validation for password match
            const password = document.getElementById('reg-password');
            const confirmPassword = document.getElementById('confirm-password');
            
            if (password.value !== confirmPassword.value) {
                showError(confirmPassword, 'كلمات المرور غير متطابقة');
                isValid = false;
            }
            
            return isValid;
        }
        
        function validateField(field) {
            const errorElement = document.getElementById(`${field.id}-error`);
            
            if (!field.value.trim()) {
                showError(field, 'هذا الحقل مطلوب');
                return false;
            }
            
            // Specific validations
            if (field.id === 'email' && !validateEmail(field.value)) {
                showError(field, 'البريد الإلكتروني غير صحيح');
                return false;
            }
            
            if (field.id === 'mobile' && !validatePhone(field.value)) {
                showError(field, 'رقم الموبايل يجب أن يكون بين 10-15 رقمًا');
                return false;
            }
            
            if (field.id === 'reg-password' && field.value.length < 6) {
                showError(field, 'كلمة المرور يجب أن تكون 6 أحرف على الأقل');
                return false;
            }
            
            // If valid
            clearError(field);
            return true;
        }
        
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function validatePhone(phone) {
            const re = /^[0-9]{10,15}$/;
            return re.test(phone);
        }
        
        function showError(field, message) {
            field.classList.add('border-error', 'focus:ring-error');
            const errorElement = document.getElementById(`${field.id}-error`);
            errorElement.textContent = message;
            errorElement.classList.remove('hidden');
        }
        
        function clearError(field) {
            field.classList.remove('border-error', 'focus:ring-error');
            const errorElement = document.getElementById(`${field.id}-error`);
            errorElement.classList.add('hidden');
        }
    </script>
</body>
</html>